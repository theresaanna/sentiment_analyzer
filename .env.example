# Railway Deployment Environment Variables
# Copy this to .env for local development or set in Railway dashboard

# === Required Variables ===

# Database URL (provided by Railway PostgreSQL plugin)
# DATABASE_URL=postgresql://user:password@host:port/dbname

# Flask configuration
FLASK_APP=run.py
FLASK_ENV=production
SECRET_KEY=your-secret-key-here-change-this

# === Optional Performance Settings ===

# External ML service (Modal)
# MODAL_ML_BASE_URL=https://sentiment-ml-service--<your-handle>.modal.run
# MODAL_ML_API_KEY=
# PRECOMPUTE_ANALYSIS_ON_PRELOAD=false
# PRELOAD_ANALYSIS_LIMIT=500
# PRELOAD_ANALYSIS_METHOD=auto

# Model loading configuration
SKIP_MODEL_PRELOAD=false  # Set to true during migrations
RAILWAY_MINIMAL_MODELS=false  # Set to true to load only essential models
MODEL_CACHE_DIR=/app/model_cache
TRANSFORMERS_CACHE=/app/.cache/huggingface

# Performance tuning
TOKENIZERS_PARALLELISM=false
TORCH_HOME=/app/.cache/torch
PYTHONUNBUFFERED=1

# Worker configuration (for Gunicorn)
WEB_CONCURRENCY=1  # Number of worker processes
THREADS_PER_WORKER=4  # Threads per worker

# === API Keys (Optional) ===

# YouTube Data API (for fetching comments)
# YOUTUBE_API_KEY=your-youtube-api-key

# OpenAI API (for enhanced summarization)
# OPENAI_API_KEY=your-openai-api-key

# Google OAuth (for user authentication)
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# === Redis Cache (Optional) ===
# REDIS_URL=redis://localhost:6379/0

# === Email Configuration (Optional) ===
# MAIL_SERVER=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USE_TLS=true
# MAIL_USERNAME=your-email@gmail.com
# MAIL_PASSWORD=your-app-password
# MAIL_DEFAULT_SENDER=your-email@gmail.com  # Defaults to MAIL_USERNAME if not set

# === Railway Specific ===
RAILWAY_ENVIRONMENT=production
# PORT is automatically set by Railway

# === Monitoring (Optional) ===
# SENTRY_DSN=your-sentry-dsn
# LOG_LEVEL=INFO